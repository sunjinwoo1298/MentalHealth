<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Gamification Frontend</title>
</head>
<body>
    <h1>Gamification Frontend Test</h1>
    
    <button onclick="clearAuth()">Clear Auth Data</button>
    <button onclick="setTestAuth()">Set Test Authentication</button>
    <button onclick="testGamificationAPI()">Test API</button>
    <button onclick="goToGamification()">Go to Gamification Page</button>
    <button onclick="goToLogin()">Go to Login Page</button>
    
    <div id="results"></div>
    
    <script>
        function clearAuth() {
            localStorage.removeItem('token');
            localStorage.removeItem('refreshToken');
            localStorage.removeItem('user');
            document.getElementById('results').innerHTML = '<p style="color: orange;">üßπ Authentication data cleared!</p>';
        }
        
        function setTestAuth() {
            localStorage.setItem('token', 'mock-jwt-token-test-user-123');
            localStorage.setItem('refreshToken', 'mock-refresh-token-test-user-123');
            localStorage.setItem('user', JSON.stringify({
                id: 'test-user-123',
                email: 'test@example.com',
                username: 'testuser',
                firstName: 'Test',
                lastName: 'User',
                isVerified: true,
                createdAt: new Date().toISOString()
            }));
            
            document.getElementById('results').innerHTML = '<p style="color: green;">‚úÖ Authentication tokens set successfully!</p>';
        }
        
        async function testGamificationAPI() {
            try {
                const response = await fetch('http://localhost:3001/api/gamification/points', {
                    headers: {
                        'Authorization': 'Bearer mock-jwt-token',
                        'Content-Type': 'application/json'
                    }
                });
                
                const data = await response.json();
                document.getElementById('results').innerHTML = '<p style="color: green;">‚úÖ API Test Successful!</p><pre>' + JSON.stringify(data, null, 2) + '</pre>';
            } catch (error) {
                document.getElementById('results').innerHTML = '<p style="color: red;">‚ùå API Test Failed: ' + error.message + '</p>';
            }
        }
        
        function goToGamification() {
            window.location.href = '/gamification';
        }
        
        function goToLogin() {
            window.location.href = '/login';
        }
    </script>
</body>
</html>